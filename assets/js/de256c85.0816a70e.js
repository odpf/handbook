"use strict";(self.webpackChunkfirehose=self.webpackChunkfirehose||[]).push([[942],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),h=i,m=d["".concat(l,".").concat(h)]||d[h]||p[h]||o;return n?r.createElement(m,a(a({ref:t},c),{},{components:n})):r.createElement(m,a({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var u=2;u<o;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3260:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return p}});var r=n(7462),i=n(3366),o=(n(7294),n(3905)),a=["components"],s={},l="Pull request",u={unversionedId:"engineering/pull-request",id:"engineering/pull-request",title:"Pull request",description:"This document outlines the guidelines that should be followed for pull requests to suggest changes to a project, receive suggested changes to projects, and address issues in pull requests, such as merge conflicts.",source:"@site/docs/engineering/pull-request.md",sourceDirName:"engineering",slug:"/engineering/pull-request",permalink:"/handbook/engineering/pull-request",draft:!1,editUrl:"https://github.com/odpf/handbook/edit/master/docs/docs/engineering/pull-request.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Commits",permalink:"/handbook/engineering/commits"},next:{title:"Documentation",permalink:"/handbook/engineering/docs"}},c={},p=[{value:"Linked issue",id:"linked-issue",level:2},{value:"Trivial updates",id:"trivial-updates",level:2},{value:"PR review process",id:"pr-review-process",level:2},{value:"Approval stickiness",id:"approval-stickiness",level:2},{value:"Maintainer authored PRs",id:"maintainer-authored-prs",level:2},{value:"Community contributed PRs",id:"community-contributed-prs",level:2},{value:"Guiding principles for community contributions",id:"guiding-principles-for-community-contributions",level:2},{value:"Code owners and approvers",id:"code-owners-and-approvers",level:2},{value:"Responsibility to merge",id:"responsibility-to-merge",level:2},{value:"Continually improving contribution guidelines",id:"continually-improving-contribution-guidelines",level:2}],d={toc:p};function h(e){var t=e.components,n=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"pull-request"},"Pull request"),(0,o.kt)("p",null,"This document outlines the guidelines that should be followed for pull requests to suggest changes to a project, receive suggested changes to projects, and address issues in pull requests, such as merge conflicts."),(0,o.kt)("h2",{id:"linked-issue"},"Linked issue"),(0,o.kt)("p",null,"All PRs should have their corresponding issue marked. Plesae check issue raising process for guidelines on creating issue."),(0,o.kt)("h2",{id:"trivial-updates"},"Trivial updates"),(0,o.kt)("p",null,"All non-trivial pull requests should be reviewed and merged by someone other than the author. A pull request that touches code is never trivial, but one that fixes a typo in the documentation probably is."),(0,o.kt)("p",null,"Trivial updates, such as docs updates, do not require a logged issue."),(0,o.kt)("h2",{id:"pr-review-process"},"PR review process"),(0,o.kt)("p",null,"Everyone is encouraged to review community contributions. However, each PR should have a single accountable reviewer, who is also approved as a CODEOWNER. That reviewer can ask others in the team for feedback but they are solely accountable for the merge/approval decision."),(0,o.kt)("p",null,"If you are assigned as primary reviewer and do not feel confident in your ability to approve and merge, it is your responsibility to either (a) request assist from a maintainer on specific parts of the code, or (b) ask another maintainer to take the role of primary reviewer."),(0,o.kt)("h2",{id:"approval-stickiness"},"Approval stickiness"),(0,o.kt)("p",null,"PR approvals are \u201csticky\u201d and are not removed when new commits are added after approval on source branch. So approvals can be requested any time during the review cycle. This also means it is the merger\u2019s responsibility to check commit history and raise an alarm on any regressions or other concerns introduced after another maintainer granted their approval."),(0,o.kt)("p",null,"Security Note: In most cases, the closing \u201cpost-approval\u201d tasks should be cosmetic - such as docs, linting, and changelog updates - but maintainers should nevertheless be on the lookout for any regressions or malicious-looking code that may have been added after approvals are given and before the merge is applied. (If in doubt, please request a repeat-review from other approvers on the PR.)"),(0,o.kt)("h2",{id:"maintainer-authored-prs"},"Maintainer authored PRs"),(0,o.kt)("p",null,"Maintainer authored PRs may be reviewed by anyone, but should also be approved by a code owner, as described below."),(0,o.kt)("h2",{id:"community-contributed-prs"},"Community contributed PRs"),(0,o.kt)("p",null,"For community contributions, the community contributor should indicate readiness to merge and the core maiantainer (primary reviewer) will approve the PR and also perform the merge."),(0,o.kt)("p",null,"All Community-Contributed PRs should have their corresponding issue marked. This helps in prioritization of code contributions. We aim to be responsive in all community contributed PRs, as a sign of respect for the community members\u2019 contributed time and effort."),(0,o.kt)("p",null,"The first maintainer to review should assign themselves to the review and check the following are present:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Soundness of code changes (the \u201cmeat\u201d of the review)"),(0,o.kt)("li",{parentName:"ul"},"Description of manual testing performed (where applicable)"),(0,o.kt)("li",{parentName:"ul"},"Presence of unit testing for new capabilities, where applicable"),(0,o.kt)("li",{parentName:"ul"},"Presence of docs and changelog updates, where applicable")),(0,o.kt)("p",null,"Note: If not comfortable being primary approver, due to either time constraints or subject matter expertise, the first reviewer should request review by tagging another maintainer."),(0,o.kt)("h2",{id:"guiding-principles-for-community-contributions"},"Guiding principles for community contributions"),(0,o.kt)("p",null,"We prioritize code contributions as high-value work, honoring the generous and valuable donation of a contributor\u2019s time and effort. We honor those contributions as representing the authors\u2019 valuable time and energy, and we respond to them in a time-sensitive manner.\nWhenever blocked on a response for 48+ hours, we may flag as such using the Awaiting Action::Author label. Sparingly and with due respect, we may ping a contributor on Slack (in DM or in the #contributing channel) to notify them of pending action on their side.\nIn the case that a contributor becomes non-responsive due to competing priorities, time lag, or other factors, we evaluate internally within the team (and with help from Product) to decide if we can prioritize and deliver any remaining outstanding tasks ourselves."),(0,o.kt)("h2",{id:"code-owners-and-approvers"},"Code owners and approvers"),(0,o.kt)("p",null,"For our core repos we use a pattern of Primary/Fallback ownership. Approval is required for both Community-Contributed PRs and maintainer authored PRs from one of these individuals. This can be requested either when the PR foundation is in place or as a \u201cfinal check\u201d. The final approval from the primary code owner should generally be requested after the PR is otherwise \u201cclean\u201d - and after known action items and questions are called out in the text of the PR. In the scenario where the primary code owner is also an author they must obtain approval from the \u201cfallback\u201d owner."),(0,o.kt)("h2",{id:"responsibility-to-merge"},"Responsibility to merge"),(0,o.kt)("p",null,"Maintainers may merge their own PRs once necessary approval(s) are provided.\nWhen nearing completion, an PR author may also invite the reviewer to \u201cmerge if approved\u201d, in order to reduce cycles spent in back-and-forth."),(0,o.kt)("h2",{id:"continually-improving-contribution-guidelines"},"Continually improving contribution guidelines"),(0,o.kt)("p",null,"As experts catch issues in PRs that the original reviewers did not, we will update this section and the Contributor Guide, and reviewers will learn new things to look out for until they catch (almost) everything the expert would, at which points they will be experts themselve."),(0,o.kt)("p",null,"Note: This document is heavily inspired from Gitlab PR process."))}h.isMDXComponent=!0}}]);